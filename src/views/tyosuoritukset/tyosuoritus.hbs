<h1 class="font-medium text-3xl">Työsuoritus</h1>

<div>
  <div><span class="uppercase">{{tyosuoritus.tyyppi}}</span> kohteessa {{tyokohde.osoite}}</div>
  <div>{{tyosuoritus.aloitus_pvm}}</div>
  <div class="capitalize">{{tyosuoritus.tila}}</div>
</div>

<div class="py-3"></div>

<div>
  <h2 class="font-medium text-xl">Työkohde</h2>
  <div>{{tyokohde.osoite}}</div>
  <div>{{tyokohde.postinumero}}, {{tyokohde.postitoimipaikka}}</div>
  <div class="capitalize">{{tyokohde.tyyppi}}</div>
</div>

<div class="py-3"></div>

<div>
  <h2 class="font-medium text-xl">Asiakas</h2>
  <div class="flex">
    <div>
      <div>{{asiakas.nimi}}</div>
      {{#if asiakas.sahkoposti}}<div>{{asiakas.sahkoposti}}</div>{{/if}}
      {{#if asiakas.puhelinnumero}}<div>{{asiakas.puhelinnumero}}</div>{{/if}}
    </div>
    <div class="px-10"></div>
    <div class="shrink-0">
      <div>{{asiakas.osoite}}</div>
      <div>{{asiakas.postinumero}}, {{asiakas.postitoimipaikka}}</div>
    </div>
  </div>
</div>

<div class="py-3"></div>

<div>
  <h2 class="font-medium text-xl">Laskut</h2>

  <button hx-get="/tyosuoritukset/uusi" hx-target="#main-content" hx-push-url="true"
    class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded my-2">
    Uusi lasku
  </button>

  {{#each lasku}}
  <div hx-get="/laskut/{{id}}" hx-target="#main-content" hx-push-url="true"
    class="flex justify-between p-2 hover:bg-slate-200 rounded cursor-pointer">
    <div>
      <div class="font-medium">{{pvm}}</div>
      {{#if jarjestysluku}}<div>{{jarjestysluku}}. muistutuslasku</div>{{/if}}
      <div>{{summa}} €</div>
      <div>{{era_pvm}}</div>
    </div>
    <div class="capitalize">
      {{tila}}
    </div>
  </div>
  {{/each}}
</div>

<div class="py-3"></div>

<div>
  <h2 class="font-medium text-xl">Työ</h2>

  <div class="flex flex-col">
    <div class="overflow-x-auto sm:-mx-6 lg:-mx-8">
      <div class="inline-block min-w-full py-2 sm:px-6 lg:px-8">
        <div class="overflow-hidden">
          <table class="min-w-full text-left text-sm font-light">
            <thead class="border-b font-medium dark:border-neutral-500">
              <tr>
                <th scope="col" class="px-6 py-4">Työn tyyppi</th>
                <th scope="col" class="px-6 py-4">Tuntihinta</th>
                <th scope="col" class="px-6 py-4">Tunnit</th>
                <th scope="col" class="px-6 py-4">Hinta</th>
                <th scope="col" class="px-6 py-4">ALV</th>
                <th scope="col" class="px-6 py-4">Hinta yhteensä</th>
              </tr>
            </thead>
            <tbody>
              {{#each tuntihinnat}}
              <tr class="border-b transition duration-300 ease-in-out hover:bg-neutral-100">
                <td class="whitespace-nowrap px-6 py-4 capitalize">{{tyyppi}}</td>
                <td class="whitespace-nowrap px-6 py-4">{{tuntihinta}} €</td>
                <td class="whitespace-nowrap px-6 py-4">{{tunnit}}</td>
                <td class="whitespace-nowrap px-6 py-4">{{hinta}} €</td>
                <td class="whitespace-nowrap px-6 py-4">{{alv}} €</td>
                <td class="whitespace-nowrap px-6 py-4">{{hinta_yhteensa}} €</td>
              </tr>
              {{/each}}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="py-3"></div>

<div>
  <h2 class="font-medium text-xl">Tarvikkeet</h2>

  <div class="flex flex-col">
    <div class="overflow-x-auto sm:-mx-6 lg:-mx-8">
      <div class="inline-block min-w-full py-2 sm:px-6 lg:px-8">
        <div class="overflow-hidden">
          <table class="min-w-full text-left text-sm font-light">
            <thead class="border-b font-medium dark:border-neutral-500">
              <tr>
                <th scope="col" class="px-6 py-4">Nimi</th>
                <th scope="col" class="px-6 py-4">Määrä</th>
                <th scope="col" class="px-6 py-4">Yksikön hinta</th>
                <th scope="col" class="px-6 py-4">Hinta</th>
                <th scope="col" class="px-6 py-4">ALV</th>
                <th scope="col" class="px-6 py-4">Hinta yhteensä</th>
              </tr>
            </thead>
            <tbody>
              {{#each tarvikkeet}}
              <tr class="border-b transition duration-300 ease-in-out hover:bg-neutral-100">
                <td class="whitespace-nowrap px-6 py-4 capitalize">{{nimi}}</td>
                <td class="whitespace-nowrap px-6 py-4">{{maara}} {{yksikko}}</td>
                <td class="whitespace-nowrap px-6 py-4">{{hinta_ulos}} €</td>
                <td class="whitespace-nowrap px-6 py-4">{{hinta}} €</td>
                <td class="whitespace-nowrap px-6 py-4">{{alv}} €</td>
                <td class="whitespace-nowrap px-6 py-4">{{hinta_yhteensa}} €</td>
              </tr>
              {{/each}}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="py-3"></div>

<div class="font-medium text-xl">Kokonaissumma {{kokonaissumma}}</div>