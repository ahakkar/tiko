<div
  class="flex justify-between font-semibold absolute top-0 left-2 transform -translate-y-1/2 px-2 bg-slate-300 rounded-md shadow-lg w-4/12">
  <div class="text-2xl my-auto">Laskut</div>

  <div>
    {{#if writeAccess}}
    <button hx-get="/tyosopimukset/{{tyosopimus.id}}/laskut" hx-target="#modal-content"
      class="bg-blue-500 text-white hover:bg-blue-200 font-semibold hover:text-blue-500 border-2 border-blue-500 rounded my-2 px-1 ml-4 text-sm">
      + Lisää
    </button>
    {{/if}}
  </div>
</div>

<div class="text-sm mt-4">
  <div class="grid grid-cols-8 font-bold p-2 border-b-2 border-black">
    <div>Tunnus</div>
    <div>Maksettu</div>
    <div>Päivämäärä</div>
    <div>Summa</div>
    <div>Eräpvm</div>
    <div class="col-span-3">Huomiot</div>
  </div>

  {{#each laskut}}
  <div class="grid grid-cols-8 p-2 items-center">
    <div hx-get="/laskut?laskuId={{id}}&tyosopimusId={{tyosuoritus_id}}" hx-target="#main-content" hx-push-url="true"
      class="rounded-md hover:bg-gray-100 hover:underline">
      {{id}}</div>
    <div>
      {{#if sopimusMaksettu}}Maksettu{{else}}Maksamatta{{/if}}
    </div>
    <div>{{formatDate pvm}}</div>
    <div>{{yhteissumma}} €</div>

    <div {{#if expired}}class="px-2 -left-2 relative rounded-full bg-red-500 text-white" {{/if}}>
      {{formatDate era_pvm}}
    </div>

    {{#if is_muistutuslasku}}
    <div class="px-3 rounded-full bg-yellow-500 text-white">Muistutuslasku</div>
    {{/if}}
    {{#if is_karhulasku}}
    <div class="px-3 rounded-full bg-red-500 text-white">{{karhuluku}}. karhulasku</div>{{/if}}

    {{#if ../writeAccess}}
    {{#if showExpiredButton}}
    <div class="col-span-2">
      <button
        class="font-semibold rounded hover:text-white text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 px-1 ml-2"
        hx-get="/tyosopimukset/{{../tyosuoritus_id}}/laskut/{{../id}}/muistutuslaskut" hx-target="#modal-content">
        Luo muistutuslasku
      </button>
    </div>
    {{/if}}
    {{/if}}
  </div>
  {{/each}}
</div>